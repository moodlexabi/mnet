<!DOCTYPE html>
<!-- https://moodlexabi.github.io/mnet/ --> 
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <script src="moodleResourceForm.js"></script> <!-- Incluye la librería -->
    <title>Ejemplo de Formulario</title>
    <style>
        body {
            font-family: Arial, sans-serif;
            background-color: #f4f4f4;
            padding: 20px;
        }
        .container {
            max-width: 500px;
            margin: 1em auto;
            background: #fff;
            padding: 2em;
            border-radius: 8px;
            box-shadow: 0 0 10px rgba(0, 0, 0, 0.1);
        }
        h2 {
            text-align: center;
        }
        form {
            display: flex;
            flex-direction: column;
        }
        label {
            margin-top: 10px;
        }
        input[type="text"], input[type="email"], input[type="password"], textarea {
            padding: 10px;
            margin-top: 5px;
            border-radius: 4px;
            border: 1px solid #ccc;
        }
        button {
            padding: 10px;
            margin-top: 20px;
            background-color: #28a745;
            color: white;
            border: none;
            border-radius: 4px;
            cursor: pointer;
        }
        button:hover {
            background-color: #218838;
        }
    </style>
</head>
<body>
    <div class="container">
        <h2>Formulario de Ejemplo SCORM 12</h2>
        <p>Envía el ejercicio 1634898912951-SCORM_12.zip de la url https://procomun.intef.es/ode/view/1624500001532 creado con exe al moodle indicado en la url del formulario.</p>
        <form id="myForm">
            <label for="moodleUrl">Url moodle:</label>
            <input type="text" id="moodleUrl" name="moodleUrl" placeholder="Ingresa la url de tu moodle" required>

            <input type="hidden" id="fileUrl" name="fileUrl" value="https://ode.educacion.es/export/1624500001532/SCORM_12/1624500001532-SCORM_12.zip">
            <input type="hidden" id="resourceName" name="resourceName" value="El uso de las mayúsculas">
            <input type="hidden" id="resourceSummary" name="resourceSummary" value="Siguiendo este razonamiento, a lo largo del presente recurso trabajaremos las normas que rigen el uso de las letras mayúsculas a través de diferentes actividades, tanto de desarrollo como de ampliación. La temporalización estimada será de dos sesiones lectivas, en las que explicaremos las reglas ortográficas que nos conciernen, con el propósito de resolver a nuestro alumnado posibles dudas mediante la resolución de distintas tareas, las cuales pueden ser cambiadas o adaptadas según el criterio docente. Finalmente, con respecto a la evaluación, se ha diseñado una rúbrica que se utilizará para facilitar la recogida de datos y la evaluación de los objetivos y competencias adquiridos por los estudiantes, con la que también es posible detectar dificultades y aspectos que mejorar.">

            <button type="button" onclick="enviarRecurso(this)">Enviar Recurso</button>
        </form>
    </div>

    <div class="container">
        <h2>Formulario de Ejemplo 1634898912951-IMS_CP.zip</h2>
        <p>Envía el ejercicio IMS de la url https://procomun.intef.es/ode/view/1624500001532 creado con exe al moodle indicado en la url del formulario.</p>
        <form id="myForm">
            <label for="moodleUrl">Url moodle:</label>
            <input type="text" id="moodleUrl" name="moodleUrl" placeholder="Ingresa la url de tu moodle" required>

            <input type="hidden" id="fileUrl" name="fileUrl" value="https://ode.educacion.es/export/1624500001532/IMS_CP/1624500001532-IMS_CP.zip">
            <input type="hidden" id="resourceName" name="resourceName" value="El uso de las mayúsculas">
            <input type="hidden" id="resourceSummary" name="resourceSummary" value="Siguiendo este razonamiento, a lo largo del presente recurso trabajaremos las normas que rigen el uso de las letras mayúsculas a través de diferentes actividades, tanto de desarrollo como de ampliación. La temporalización estimada será de dos sesiones lectivas, en las que explicaremos las reglas ortográficas que nos conciernen, con el propósito de resolver a nuestro alumnado posibles dudas mediante la resolución de distintas tareas, las cuales pueden ser cambiadas o adaptadas según el criterio docente. Finalmente, con respecto a la evaluación, se ha diseñado una rúbrica que se utilizará para facilitar la recogida de datos y la evaluación de los objetivos y competencias adquiridos por los estudiantes, con la que también es posible detectar dificultades y aspectos que mejorar.">

            <button type="button" onclick="enviarRecurso(this)">Enviar Recurso</button>
        </form>
    </div>

    <div class="container">
        <h2>Formulario de Ejemplo con selector</h2>
        <p>Envía el ejercicio de la url https://procomun.intef.es/ode/view/1624500001532 creado con exe al moodle indicado en la url y con formato elegido en el formulario.</p>
        <form id="myForm">
            <label for="moodleUrl">Url moodle:</label>
            <input type="text" id="moodleUrl" name="moodleUrl" placeholder="Ingresa la url de tu moodle" required>

            <label for="fileUrl">Format:</label>
            <select id="fileUrl" name="fileUrl">
                <option value="https://ode.educacion.es/export/1624500001532/SCORM_12/1624500001532-SCORM_12.zip">SCORM 1.2</option>
                <option value="https://ode.educacion.es/export/1624500001532/IMS_CP/1624500001532-IMS_CP.zip">IMSCP</option>
            </select>
            
            <input type="hidden" id="resourceName" name="resourceName" value="El uso de las mayúsculas">
            <input type="hidden" id="resourceSummary" name="resourceSummary" value="Siguiendo este razonamiento, a lo largo del presente recurso trabajaremos las normas que rigen el uso de las letras mayúsculas a través de diferentes actividades, tanto de desarrollo como de ampliación. La temporalización estimada será de dos sesiones lectivas, en las que explicaremos las reglas ortográficas que nos conciernen, con el propósito de resolver a nuestro alumnado posibles dudas mediante la resolución de distintas tareas, las cuales pueden ser cambiadas o adaptadas según el criterio docente. Finalmente, con respecto a la evaluación, se ha diseñado una rúbrica que se utilizará para facilitar la recogida de datos y la evaluación de los objetivos y competencias adquiridos por los estudiantes, con la que también es posible detectar dificultades y aspectos que mejorar.">

            <button type="button" onclick="enviarRecurso(this)">Enviar Recurso</button>
        </form>
    </div>


    <div class="container">
        <h2>Formulario de Ejemplo con selector</h2>
        <p>Envía el ejercicio de la url https://procomun.intef.es/ode/view/1624500001532 creado con exe al moodle indicado en la url y con formato elegido en el formulario.</p>
        <form id="myForm">
            <label for="moodleUrl">Url moodle:</label>
            <select id="moodleUrl" name="moodleUrl" onchange="toggleUrlInput(this)">
                <option value="otr">otro</option>
                <option value="https://elearning1.test.hezkuntza.net/013447/">https://elearning1.test.hezkuntza.net/013447/</option>
                <option value="https://gureikastetxea.test-iradi.eus/">https://gureikastetxea.test-iradi.eus/</option>
            </select>
            <input type="text" id="moodleUrlText" name="moodleUrlText" placeholder="Ingresa la url de tu moodle" required>

            <label for="fileUrl">Format:</label>
            <select id="fileUrl" name="fileUrl">
                <option value="https://ode.educacion.es/export/1624500001532/SCORM_12/1624500001532-SCORM_12.zip">SCORM 1.2</option>
                <option value="https://ode.educacion.es/export/1624500001532/IMS_CP/1624500001532-IMS_CP.zip">IMSCP</option>
            </select>
            
            <input type="hidden" id="resourceName" name="resourceName" value="El uso de las mayúsculas">
            <input type="hidden" id="resourceSummary" name="resourceSummary" value="Siguiendo este razonamiento, a lo largo del presente recurso trabajaremos las normas que rigen el uso de las letras mayúsculas a través de diferentes actividades, tanto de desarrollo como de ampliación. La temporalización estimada será de dos sesiones lectivas, en las que explicaremos las reglas ortográficas que nos conciernen, con el propósito de resolver a nuestro alumnado posibles dudas mediante la resolución de distintas tareas, las cuales pueden ser cambiadas o adaptadas según el criterio docente. Finalmente, con respecto a la evaluación, se ha diseñado una rúbrica que se utilizará para facilitar la recogida de datos y la evaluación de los objetivos y competencias adquiridos por los estudiantes, con la que también es posible detectar dificultades y aspectos que mejorar.">

            <button type="button" onclick="enviarRecurso(this)">Enviar Recurso</button>
        </form>
    </div>

    <script>

        function toggleUrlInput(select) {
            const urlTextInput = document.getElementById('moodleUrlText');
            if (select.value === 'otr') {
                urlTextInput.style.display = 'block';
                urlTextInput.required = true;
            } else {
                urlTextInput.style.display = 'none';
                urlTextInput.required = false;
            }
        }

        function enviarRecurso(button) {
            const form = button.closest('form'); // Obtiene el formulario al que pertenece el botón
            let moodleUrl = form.querySelector('[name="moodleUrl"]').value;

            // Si se seleccionó "otro", se usa el valor del campo de texto
            if (moodleUrl === 'otr') {
                moodleUrl = form.querySelector('[name="moodleUrlText"]').value;
            }

            const fileUrl = form.querySelector('[name="fileUrl"]').value;
            const resourceName = form.querySelector('[name="resourceName"]').value;
            const resourceSummary = form.querySelector('[name="resourceSummary"]').value;

            // Usamos la librería para enviar el formulario
            MoodleResourceForm.sendForm(moodleUrl, fileUrl, resourceName, resourceSummary);
        }
    </script>
</body>
</html>

